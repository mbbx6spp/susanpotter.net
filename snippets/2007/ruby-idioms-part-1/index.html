<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Susan Potter">
    <meta name="description" content="With more people moving to Ruby everyday from languages like Java, I wanted to create blog entries on the most common Ruby idioms (especially ones frequently found in Rails core or Rails application code) and briefly explain how to convert your Java mindset to Ruby (over time).  This is the first installment.  First let us inspect what we might do in Java (converted to Ruby syntax) when determining if a value passed in equals various fixed values: if val == 1 || val == 3 || val == 5 puts &#34;hello odd number under 7&#34; end   Rubyists will know this is really ugly, so our first attempt at Rubifying the code above would probably look like: if [1, 3, 5].">
    <meta name="keywords" content="Distributed Systems, Functional Programming, Systems Architecture, Software Development, Software Engineering Leadership, Technical Strategy">

    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Ruby Idioms, Part 1"/>
<meta name="twitter:description" content="With more people moving to Ruby everyday from languages like Java, I wanted to create blog entries on the most common Ruby idioms (especially ones frequently found in Rails core or Rails application code) and briefly explain how to convert your Java mindset to Ruby (over time).  This is the first installment.  First let us inspect what we might do in Java (converted to Ruby syntax) when determining if a value passed in equals various fixed values: if val == 1 || val == 3 || val == 5 puts &#34;hello odd number under 7&#34; end   Rubyists will know this is really ugly, so our first attempt at Rubifying the code above would probably look like: if [1, 3, 5]."/>

    <meta property="og:title" content="Ruby Idioms, Part 1" />
<meta property="og:description" content="With more people moving to Ruby everyday from languages like Java, I wanted to create blog entries on the most common Ruby idioms (especially ones frequently found in Rails core or Rails application code) and briefly explain how to convert your Java mindset to Ruby (over time).  This is the first installment.  First let us inspect what we might do in Java (converted to Ruby syntax) when determining if a value passed in equals various fixed values: if val == 1 || val == 3 || val == 5 puts &#34;hello odd number under 7&#34; end   Rubyists will know this is really ugly, so our first attempt at Rubifying the code above would probably look like: if [1, 3, 5]." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/snippets/2007/ruby-idioms-part-1/" />
<meta property="article:published_time" content="2007-01-22T19:16:00-06:00" />
<meta property="article:modified_time" content="2007-01-22T19:16:00-06:00" />


    
      <base href="/snippets/2007/ruby-idioms-part-1/">
    
    <title>
  Ruby Idioms, Part 1 · Susan Potter
</title>

    
      <link rel="canonical" href="/snippets/2007/ruby-idioms-part-1/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="/css/coder.min.3219ef62ae52679b7a9c19043171c3cd9f523628c2a65f3ef247ee18836bc90b.css" integrity="sha256-MhnvYq5SZ5t6nBkEMXHDzZ9SNijCpl8&#43;8kfuGINryQs=" crossorigin="anonymous" media="screen" />
    

    

    

    
      <link rel="stylesheet" href="/styles/main.css" />
    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.64.0" />
  </head>

  
  
  <body class="colorscheme-light"
        onload=""
  >
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Susan Potter
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/talks/">Talks</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/software/">Software</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/snippets/">Snippets</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>Ruby Idioms, Part 1</h1>
    </header>

    <p>
With more people moving to Ruby everyday from languages like Java, I
wanted to create blog entries on the most common Ruby idioms
(especially ones frequently found in Rails core or Rails application
code) and briefly explain how to convert your Java mindset to Ruby
(over time).
</p>
<p>
This is the first installment.
</p>
<p>
First let us inspect what we might do in Java (converted to Ruby
syntax) when determining if a value passed in equals various fixed
values:
</p>
<div class="src src-ruby">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">    <span style="color:#66d9ef">if</span> val <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672"></span><span style="color:#f92672">||</span> val <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672"></span><span style="color:#f92672">||</span> val <span style="color:#f92672">==</span> <span style="color:#ae81ff">5</span>
      <span style="color:#f92672"></span>puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hello odd number under 7</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">end</span></code></pre></div>
</div>
<p>
Rubyists will know this is really ugly, so our first attempt at
Rubifying the code above would probably look like:
</p>
<div class="src src-ruby">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">3</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">5</span><span style="color:#f92672"></span><span style="color:#f92672">]</span><span style="color:#f92672">.</span>include? val
      puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hello odd number under 7</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">end</span></code></pre></div>
</div>
<p>
Of course, one-liner fans should note you can also do the following:
</p>
<div class="src src-ruby">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">    puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hello odd number under 7</span><span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">3</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">5</span><span style="color:#f92672"></span><span style="color:#f92672">]</span><span style="color:#f92672">.</span>include? val</code></pre></div>
</div>
<p>
<code class="verbatim">include?</code> is an instance method on <code class="verbatim">Array</code> (a builtin Ruby class -
remember all first class citizens in Ruby are classes [or more
technically, modules]).  In Ruby developers use &#34;?&#34; postfixes in
method names as a way to letting clients of the method know it should
return a true or false value.  I described the unwritten/unofficial
Ruby conventions and guidelines for naming in a previous blog entry,
<a href="/blogs/software/2006/08/rubyisms-naming-conventions.html">Rubyisms: Naming Conventions</a>.
</p>
<p>
This first attempt is fairly nice, because it makes (in my opinion)
the code more readable and more like my natural language, English.
Now it doesn&#39;t quite read as well as it could, so let&#39;s try again:
</p>
<div class="src src-ruby">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby">    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Array</span>
      <span style="color:#66d9ef">alias</span> <span style="color:#e6db74">:includes?</span> <span style="color:#e6db74">:include?</span>
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">3</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">5</span><span style="color:#f92672"></span><span style="color:#f92672">]</span><span style="color:#f92672">.</span>includes? val
      puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hello odd number under 7</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">end</span>
    <span style="color:#75715e"># OR the one-liner version</span>
    puts <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hello odd number under 7</span><span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">3</span><span style="color:#f92672"></span>, <span style="color:#ae81ff">5</span><span style="color:#f92672"></span><span style="color:#f92672">]</span><span style="color:#f92672">.</span>includes? val</code></pre></div>
</div>
<p>
The code snippet above reopens a class in Ruby, a facility I describe
in a previous blog entry <a href="/blogs/software/2006/08/rubyisms-reopening-classes">Rubyisms: Reopening Classes</a>.
</p>
<p>
Now some of you might be saying, &#34;this is terrible…you have
converted a 3 line code snippet into 6.&#34;  Well not exactly.  The
reason is, the first three lines just need to be put in a ruby file to
extend the Array class just once in the whole application, library or
framework and you can use the aliased method, <code class="verbatim">includes?</code> as many
times as you like throughout the code base with not a care in the
world.
</p>
<p>
There are a variety of ways to change the code to be more readable and
this gets subjective, but I&#39;ll leave that as an exercise for the
reader.  Ruby&#39;s core <code class="verbatim">Range</code> class could be used to generate an array
of odd (or even) numbers under a specific number. Another blog entry
will deal with this.
</p>

  </article>
</section>

  

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
        ©
        
          2006 -
        
        2020
         Susan Potter 
      
      
         · 
        Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
    </section>
  </footer>

    </main>

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-837842-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    

  </body>

</html>
